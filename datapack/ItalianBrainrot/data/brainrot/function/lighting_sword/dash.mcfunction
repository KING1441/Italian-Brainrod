effect give @s resistance infinite 255 true

summon lightning_bolt ~ ~ ~

# alot of tp's :(
execute if block ^ ^ ^1 air run tp @s ^ ^1 ^1
summon lightning_bolt ~ ~ ~
summon lightning_bolt ~ ~ ~
execute if block ^ ^ ^1 air run tp @s ^ ^1 ^1
summon lightning_bolt ~ ~ ~
summon lightning_bolt ~ ~ ~
execute if block ^ ^ ^1 air run tp @s ^ ^1 ^1
summon lightning_bolt ~ ~ ~
summon lightning_bolt ~ ~ ~
execute if block ^ ^ ^1 air run tp @s ^ ^1 ^1
summon lightning_bolt ~ ~ ~
summon lightning_bolt ~ ~ ~
execute if block ^ ^ ^1 air run tp @s ^ ^1 ^1
summon lightning_bolt ~ ~ ~
summon lightning_bolt ~ ~ ~

execute if block ^ ^ ^1 air run tp @s ^ ^1 ^1
summon lightning_bolt ~ ~ ~
summon lightning_bolt ~ ~ ~

execute if block ^ ^ ^1 air run tp @s ^ ^1 ^1
summon lightning_bolt ~ ~ ~
summon lightning_bolt ~ ~ ~

execute if block ^ ^ ^1 air run tp @s ^ ^1 ^1
summon lightning_bolt ~ ~ ~
summon lightning_bolt ~ ~ ~

execute if block ^ ^ ^1 air run tp @s ^ ^1 ^1
summon lightning_bolt ~ ~ ~
summon lightning_bolt ~ ~ ~

execute if block ^ ^ ^1 air run tp @s ^ ^1 ^1
summon lightning_bolt ~ ~ ~
summon lightning_bolt ~ ~ ~

clear @s diamond_sword 1

effect clear @s resistance
effect give @s fire_resistance 10 3 true